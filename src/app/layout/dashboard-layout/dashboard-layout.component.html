<div class="flex min-h-screen font-[Poppins,sans-serif] bg-white text-gray-800">

  <!-- Mobile Hamburger -->
  <button class="md:hidden fixed top-4 left-4 z-50 p-2 bg-white border rounded shadow"
          (click)="toggleMobileSidebar()">
    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
  </button>

  <!-- Sidebar -->
  <aside
    [ngClass]="{
      'w-64': sidebarOpen,
      'w-20': !sidebarOpen,
      'md:translate-x-0': true,
      'translate-x-0': mobileSidebarOpen,
      '-translate-x-full': !mobileSidebarOpen
    }"
    class="bg-white md:static fixed inset-y-0 left-0 z-40 transition-all duration-300 transform border-r border-blue-200 flex flex-col"
  >
    <!-- Logo -->
    <div class="flex items-center justify-between p-4 border-b border-blue-100">
      <div class="flex items-center gap-2" *ngIf="sidebarOpen || mobileSidebarOpen">
        <img src="assets/logo.jpg" alt="Logo" class="w-32 h-auto" />
      </div>
      <button (click)="toggleSidebar()" class="hidden md:block p-1 hover:bg-gray-100 rounded">
        <svg *ngIf="sidebarOpen" class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
        <svg *ngIf="!sidebarOpen" class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <!-- Navigation Links -->
    <nav class="flex-grow px-4 py-4 space-y-2">
      <ng-container *ngFor="let item of menuItems">
        <a [routerLink]="item.path"
           routerLinkActive="bg-blue-100 text-blue-600 font-semibold"
           [routerLinkActiveOptions]="{ exact: true }"
           (click)="closeMobileSidebar()"
           class="flex items-center gap-3 px-3 py-2 rounded-lg transition hover:bg-blue-50"
           [ngClass]="{ 'justify-center': !sidebarOpen && !mobileSidebarOpen }">
          <img [src]="item.icon" class="w-5 h-5" />
          <span *ngIf="sidebarOpen || mobileSidebarOpen">{{ item.label }}</span>
        </a>
      </ng-container>
    </nav>

    <!-- Profile & Logout -->
    <div class="p-4 border-t border-blue-100 space-y-2">
      <!-- Profile Button -->
      <a
        routerLink="/profile"
        routerLinkActive="bg-blue-600 text-white"
        class="flex items-center gap-3 w-full bg-blue-500 text-white py-2 px-3 rounded hover:bg-blue-600"
        [ngClass]="{ 'justify-center': !sidebarOpen && !mobileSidebarOpen }"
      >
        <img src="assets/icons/profile.svg" class="w-6 h-6 rounded-full" />
        <span *ngIf="sidebarOpen || mobileSidebarOpen">Profile</span>
      </a>

      <!-- Logout Button -->
      <!-- Logout Button -->
<button
  (click)="openLogoutModal()"
  class="flex items-center gap-3 w-full text-red-500 hover:bg-red-100 py-2 px-3 rounded"
  [ngClass]="{ 'justify-center': !sidebarOpen && !mobileSidebarOpen }"
>
  <img src="assets/log-out.png" class="w-5 h-5" />
  <span *ngIf="sidebarOpen || mobileSidebarOpen">Logout</span>
</button>

    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-4 md:p-6 transition-all duration-300 w-full">
    <router-outlet></router-outlet>
  </main>
</div>

<!-- Logout Confirmation Modal -->
<div *ngIf="showLogoutModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-sm">
    <h3 class="text-lg font-semibold mb-4">Confirm Logout</h3>
    <p class="text-gray-600 mb-6">Are you sure you want to logout?</p>
    <div class="flex justify-end gap-3">
      <button (click)="cancelLogout()" class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300">Cancel</button>
      <button (click)="confirmLogout()" class="px-4 py-2 rounded bg-red-500 text-white hover:bg-red-600">Logout</button>
    </div>
  </div>
</div>

